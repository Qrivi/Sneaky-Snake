(this["webpackJsonpsneaky-snake"]=this["webpackJsonpsneaky-snake"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);a(0);var n=a(4),c=a.n(n),r=(a(13),a(14),a(3)),i=a(1),s=Object(r.b)((function(e){return{snake:e.snake}}))((function(e){var t=e.snake;return Object(i.jsx)("div",{id:"snake",children:t.map((function(e){return Object(i.jsx)("div",{className:"snakepart",style:{left:10*e.x+"px",top:10*e.y+"px"}},e.x+"_"+e.y)}))})})),o=Object(r.b)((function(e){return{x:e.apple.x,y:e.apple.y}}))((function(e){var t=e.x,a=e.y;return Object(i.jsx)("div",{id:"apple",style:{left:10*t+"px",top:10*a+"px"}})})),p=Object(r.b)((function(e){return{score:e.score}}))((function(e){var t=e.score;return Object(i.jsxs)("div",{id:"score",children:["SCORE: ",Object(i.jsx)("span",{children:t})]})})),d=Object(r.b)((function(e){return{gameState:e.gameState}}))((function(e){switch(e.gameState){case"paused":return Object(i.jsxs)("div",{id:"overlay",children:[Object(i.jsx)("span",{children:"Game Paused"}),"press space to ",Object(i.jsx)("br",{})," continue playing"]});case"over":return Object(i.jsxs)("div",{id:"overlay",children:[Object(i.jsx)("span",{children:"Game Over"}),"press space to ",Object(i.jsx)("br",{})," start a new game"]});default:return null}})),u=Object(r.b)((function(e){return{gameState:e.gameState}}))((function(){return Object(i.jsxs)("div",{id:"App",children:[Object(i.jsx)("h1",{children:"Snake"}),Object(i.jsxs)("div",{id:"field",children:[Object(i.jsx)(o,{}),Object(i.jsx)(s,{}),Object(i.jsx)(d,{})]}),Object(i.jsx)("div",{id:"meta",children:Object(i.jsx)(p,{})})]})})),j=a(2),b=a(8);function l(){return{x:Math.floor(40*Math.random()),y:Math.floor(40*Math.random())}}function O(e,t){return e.x===t.x&&e.y===t.y}var y=function(e){var t,a,n=(t=e.snake[e.snake.length-1],"right"===(a=e.direction)?{x:t.x+1,y:t.y}:"left"===a?{x:t.x-1,y:t.y}:"up"===a?{x:t.x,y:t.y-1}:"down"===a?{x:t.x,y:t.y+1}:void 0);if(O(n,e.apple)){var c=function(){for(var t=l();e.snake.some((function(e){return O(t,e)}))||O(t,e.apple);)t=l();return{v:Object(j.a)(Object(j.a)({},e),{},{score:e.score+1,apple:t,snake:e.snake.concat(n)})}}();if("object"===typeof c)return c.v}return e.snake.some((function(e){return O(e,n)}))||n.x>=40||n.y>=40||n.x<0||n.y<0?Object(j.a)(Object(j.a)({},e),{},{gameState:"over"}):Object(j.a)(Object(j.a)({},e),{},{snake:e.snake.concat(n).slice(1)})},x={score:0,snake:[{x:1,y:25},{x:2,y:25},{x:3,y:25}],apple:{x:10,y:25},direction:"right",gameState:"paused"};function h(e){return{type:"CHANGE_DIRECTION",payload:e}}var f=Object(b.a)((function(e,t){if("CHANGE_DIRECTION"===t.type){var a="left"===e.direction&&"right"===t.payload||"right"===e.direction&&"left"===t.payload||"down"===e.direction&&"up"===t.payload||"up"===e.direction&&"down"===t.payload;return Object(j.a)(Object(j.a)({},e),{},{direction:"playing"!==e.gameState||a?e.direction:t.payload})}if("TOGGLE_GAMESTATE"===t.type)switch(e.gameState){case"over":return Object(j.a)(Object(j.a)({},x),{},{gameState:"playing"});case"playing":return Object(j.a)(Object(j.a)({},e),{},{gameState:"paused"});default:return Object(j.a)(Object(j.a)({},e),{},{gameState:"playing"})}return"GAME_OVER"===t.type?Object(j.a)(Object(j.a)({},e),{},{gameState:"over"}):"FORCE_PAUSE"===t.type?Object(j.a)(Object(j.a)({},e),{},{gameState:"paused"}):"TICK_TICK"===t.type?y(e):e}),x);c.a.render(Object(i.jsx)(r.a,{store:f,children:Object(i.jsx)(u,{})}),document.getElementById("root"));document.onkeydown=function(e){return 38===(e=e||window.event).which?f.dispatch(h("up")):40===e.which?f.dispatch(h("down")):37===e.which?f.dispatch(h("left")):39===e.which?f.dispatch(h("right")):32===e.which?f.dispatch({type:"TOGGLE_GAMESTATE"}):void 0},window.onblur=function(){"playing"===f.getState().gameState&&f.dispatch({type:"FORCE_PAUSE"})},function e(){var t=f.getState(),a=200-10*Math.floor(t.score/10);setTimeout(e,a),"playing"===t.gameState&&f.dispatch({type:"TICK_TICK"})}()}},[[20,1,2]]]);
//# sourceMappingURL=main.2d2783bb.chunk.js.map